(this["webpackJsonpweb-file-manager"]=this["webpackJsonpweb-file-manager"]||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/close.f6486474.svg"},34:function(e,t,a){e.exports=a.p+"static/media/dropdown.a0483346.svg"},36:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAABICAYAAAEsQ/2+AAAAAXNSR0IArs4c6QAAA/NJREFUaAXtW79rFEEUnrfGJIWlCjZaqFhYeWnEVg2o5e0VNhZBRERFbPQ/8DciKkGDjRhT5FIJStRabLKxsRAUTCUYyxTJmZvne5t752R3x93b7N2eYdLMzJv33jfvezs7OzMXUPTXnKsil/K3ZWQGuA7RDlMhsdMDOMlKA6JplhrxNbc9Uxitd6sTABpRLGkDBv4JGR0LvWFvCA5ON2Ixcgeu6OX4KFfwKCg4FQtc3MYtWui96AD85I/qJs5KxEklx6aX9Upq9k1jMWIZUayt0ZhGjCJtRPQyGYmBlJvRKJx1tkkngUfL0EjP+QuocHe0k9ue8i7ByPQjs89jFJuBKEZHkply0zCzEaOKYWziyZDaJahxT8Grdpsq6Uamdqve0fDE3hk59uRZCN97jY6fCK9SH2rN3OpXWn33/vXXWY1ntxpWT81Xd9TDgA6q32m674l25G3LPJW1Qvx4RYKIUy4ZkILQIouts9LRacnLPM7V9q+zo3yQbB99xjRzvVTWOcvY6PgJyug3puaAYpRkFTjqsjIV03PUxSjJKugldTCZdVT59WAyXPgwqO3QqH/md2S39MDbCZXpxRCI1ZqBPwWoaJ+LW+1myT28yNFgr5PDm0kaA/jl9Ha91FhU/EWdpJFRRmzcwHl/FQ7V70ZNvBAgKs3Z1hrvENCVqHnhTxoB3aeV9KIJVDgIO9dKP8Sgel6AugISAqEaJ+rOcr2wjxAZtVkSdRM4X1stDIQ+FNd/5QgafVQVAsKnKPThJG5jZSEgcp4S894SdC3xJqADMdlIrTu6UikyFRxdJhupdUdXKkWmgqPLZCO17uhKpchUcHSZbKTWNxFddPv1NjXeDSiw/7UD06D6jjZaxzbgK9EUQL33KjPH23tG3qCi0i+7AZY4gohQ7m3wc22QT3fpvuMajNRvR9T+2QwfMLocmuWddlmBJI1QK7zFh7pE8tWk/iQZXVr5L2iLPZrU2Q8yIvneWlDVy2njoatyVUtT6od+jepBGNS8f8E2Hjr3x0FbZz/KaXf9mO8T6HDiXHR8PXkpR0E32qa5DXQI8iQMKqiOib9CNt3irNclB0XnCc904E8A4FjfBcO3R0RKe8nohKCe3Sx1Mqi8uv/lnLEF64KxMVO23GWm7AzY8F1mbMyULXeZKTsDNnyXGRszZctdZsrOgA3fZcbGTNlyl5myM2DDd5mxMVO23GWm7AzY8F1mbMyULeeD84WyB1EEPsdBP1SE2AF0Ec577YPjCI9B+ceQuNT4SOe2uf+nodeDFzwK4BtsGzwMB6Z+xc50w38SVOoMnUgfIYNdeX5KKkBFl3Q5+pt8/kBQH+jN9Rwq9Tcmxh/G31ZPhy91sAAAAABJRU5ErkJggg=="},37:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAA5CAYAAAH8XW0GAAAAAXNSR0IArs4c6QAAA8pJREFUaAXtm0trFEEQx6snG6OJEpCAQiCeBfFi/ACJmmySJeAhH0DQk+Ri9OBFUBCMRIRcFL2IFy8+QDfZGJL4CULMwYNKQPCBgh4UEvPabf+92rvZ2anMzD5mF1MDS09Xd1fV/Lp6enp6lghHf0ovmp859zrUwJQe0ZrGvAqNTBGtOFyhlWuiZt9KpnLEleA8UWJWt5vU62hz6IcaeKmHdYbOosLXyT7V61VRASKukj/QUPlWMs0jRhDInC+n5An1WQ3O6KObG+QZS+byeTiFJbH0Jp0qFOVzfpzzNQOi3NqAOw8EiWu8VV6HitrbaHyri6Wco2sz2e7F3WIe4yBmlTQ10tCzk+qdzfulMdO97oG0tkFv0TBw/AQaZtt5AkvxsnsKd4OpspUYL0VJcV8JkyoxyQ4y3MgPYDznRnGxLV6SnQlM8UBK/8IY2MdXzZfA6thEn7qUl1TuTCVS+kKG6FYolYpWJ+NqT6g2ASrHtMJ9bNsHBQ8tmnaHmfY8NBSJMBtfq8ggKtJcggA3/Ct144zxX5zhelHICBmOACevs5hRtMJ5GrXcmehVd4BnJGrDbnstrdScnfqH3+umpSV6jDmqw10pl1c0g8mxqk6r/ll9iNbpQ86oz0mYBaaPqqJiJ4wjpjWWQakiLRUShB5NmF3jeBgbrJD9AjVlL7UKtJWQwXPMq4m46jZNQ5Mpwd62TUC6yz6o1dwZ6yli8UbdOANCx+vGGUNInLFx4k6FjJuIzQsZS8KdChk3EZsXMpaEOxUybiI2L2QsCXcqZNxEbL6eyCw7eNf50XpWy1Q5dNXBkrUDa9z1WjoCIE+w5p/PrrWNI0NaN/yeo4NROuWkST/vUV+szZwzg9O6M52hh3hKP2wLy0mh2GwL3kz2qcvl6KlV2ywYLOhm4UB3NZyAgTRWsMeSceW5a14Nm5XQ6SSm9JlqQTEOYoekIaPpdWJan66Ew1HpiMHx/VEYy6TpKSLT7IonEUV3GzW9aWylb1HY5my0rJF+0KVWvcpL2kv0UhRYpikBPAlzu1//GbhVVSouQ2u2s/5px5C/j88uzt/rVBv1NGFX5eLDKMXEc+7Td1rBF1dHoo+YMJ7Wou7f72quS8R4wEfk7BUwHmCMSMAIGIYAI5aIETAMAUYsESNgGAKMWCJGwDAEGLFEjIBhCDBiiRgBwxBgxBIxAoYhwIglYgQMQ4ARO46iBaZsx4rxUnzBedGr5mIO9exYCq4Lx9bObXzeehFp/jD/s8VfZEexS9aNLY5d+ZL/+wwRsoj3vKP41PuRvdI/VZ3jJIt8wn4AAAAASUVORK5CYII="},38:function(e,t){e.exports="data:image/png;base64,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"},39:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAAAXNSR0IArs4c6QAAArZJREFUOBGlVEFrU0EQntmXmqogtAcVtCKYgofmYg568uTBk6UmMWCClTQN9KYV24MKuXiw/gNrqocErJpKPXnwFwjtpR7EVgQVFEE81BTzfNlxZpN9btIoFN8hO2++me/NznwTAH6S2fxbOTGVm1hHUjMamkvYRkhO86RyhYrEGg+GhmD2pRUIoEysfWufLcbc5AUkXR4ZHhoolUpByAOIDSCKKvDOK8mIYCRRq5T7AWFVCjLOgIIVQ0dwQk6FgHNi2Apq1QU0H2Jytbb+oSlg9yNJT6vlWUxfKmR0Uz+yAfLNxcq91WQuvwLtTwimqEn3bZBCvOLWgajGLYbFYrHvWz3wrcOc6GWAmouhD/GdqVEc6ezkmFwvBMXgAL56zJgW4AtFXm98eshNGiWgz4DezVpl/rHFDWMqO3GHwRnrdM/48BGPSbSST3YF/ZkyZ9i2Kbcu7tl3bq6K7osOuqxJHqgZjTgliBs7mB4vJBo//GtuMIK+HbGZhPCA1earAE5zKdP+pn+AMSkD+fdgGMi3nW4V1+oYERUsCbdpWUmvQgcbAVKaE3a7vpHY4csm3arEBa1tRWEuIzLqZpZAUacoR+xWQWK1HzNK1He55mPW1/PkkhWp60+q889cPCT81xTdhF62vYZgKJpZ2/j45m8VybzQg7Pg7Xmvf9VfuJrvIOeK47Gh41aA264nRB56Z2R5nMTExampgcZm4+U2Ym6RiFmJmp0EY/JSj4qKmqiPikgy2cIpAVLZ/BYL5VatspBQu/bu50X/2ZHLXKwH+NLh5BdNsCyjJ61rLKA+F+f3q4Jpv/6VCPo7MF4zRaBuuM7/snlnzZR7bv0OmUWLIiEjWDFkwWX8O+ThjuGc5Fo9hjp0icwf2xaN8Xqe40U9KVsquPwV8T/gKwJ8Ho8dWmLJBW6e2L8BReMzZHJG6k8AAAAASUVORK5CYII="},40:function(e,t,a){e.exports=a.p+"static/media/search.f47dc9ac.svg"},42:function(e,t,a){e.exports=a(58)},47:function(e,t,a){},48:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),o=(a(47),a(48),a(9)),l=a(15),s=a(7),u=a(16),m=0,d=function(e){return e.reduce((function(e,t){return e[t]=function(e){return"__web_file_manager_action_".concat(m++,"_").concat(e||"unnamed","__")}(t),e}),{})},h=d(["SET_SEARCH"]),p=d(["JUMP_DIR","CREATE_FILE","CREATE_FOLDER","DELETE_NODE"]);var f=a(18),v=a(6),E=a(11),g=a(23),y=a(14),A=a(24),w=a(22),N=function(){function e(t,a,n,r,c){Object(v.a)(this,e),this.name=t,this.creator=a,this.size=n,this.created=r,this.par=c,this.path=null===c?[t]:c.path.concat(t),this.isRoot=null===this.par}return Object(E.a)(e,[{key:"serialize",value:function(){return{name:this.name,creator:this.creator,size:this.size,created:this.created.getTime(),par:this.par?this.par.path:[],path:this.path,isRoot:this.isRoot}}}]),e}(),b=function(e){function t(){return Object(v.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(E.a)(t,[{key:"serialize",value:function(){var e=Object(A.a)(Object(y.a)(t.prototype),"serialize",this).call(this);return e.type="file",e}}]),t}(N),k=a(20),j=function(e){function t(e,a,n,r){var c;return Object(v.a)(this,t),(c=Object(g.a)(this,Object(y.a)(t).call(this,e,a,0,n,r))).contents=Object.create(null),c.contents["."]=Object(k.a)(c),c.contents[".."]=c.par,c}return Object(w.a)(t,e),Object(E.a)(t,[{key:"serialize",value:function(){var e=this,a=Object(A.a)(Object(y.a)(t.prototype),"serialize",this).call(this);return a.type="directory",a.contents=Object.keys(this.contents).reduce((function(t,a){return"."===a||".."===a?t:(t[a]=e.contents[a].serialize(),t)}),Object.create(null)),a}}]),t}(N),O=function e(t){Object(v.a)(this,e),this.what=t},R=function(){function e(){Object(v.a)(this,e),this.root=new j("root","system",new Date(Date.now()),null),this.cwd=this.root}return Object(E.a)(e,[{key:"mkdir",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date(Date.now());if(void 0!==this.cwd.contents[e])throw new O("directory ".concat(e," already exists"));var n=new j(e,t,a,this.cwd);return this.cwd.contents[e]=n,!0}},{key:"cd",value:function(e){if(void 0===this.cwd.contents[e])throw new O("directory ".concat(e," does not exist"));if(this.cwd.contents[e]instanceof b)throw new O("".concat(e," is a file, not a directory"));this.cwd=this.cwd.contents[e]}},{key:"jump",value:function(t){this.cwd=e.findNode(this.root,t)}},{key:"exists",value:function(t){try{return e.findNode(this.root,t),!0}catch(a){return!1}}},{key:"touch",value:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date(Date.now());if(void 0!==this.cwd.contents[e])throw new O("file ".concat(e," already exists"));this.cwd.contents[e]=new b(e,t,a,n,this.cwd);for(var r=this.cwd;r;)r.size+=a,r=r.par}},{key:"rm",value:function(t){var a=e.findNode(this.root,t);a.par.size-=a.size,delete a.par.contents[a.name]}},{key:"ls",value:function(){var e=this.cwd.contents,t=Object.keys(e).map((function(t){return e[t]?{key:t,type:e[t]instanceof b?"file":"directory",size:e[t].size,creator:e[t].creator,created:e[t].created,path:e[t].path.join("/"),par:e[t].par?e[t].par.path.join("/"):"root"}:null})).filter(Boolean);return t.filter((function(e){return"directory"===e.type})).concat(t.filter((function(e){return"file"===e.type})))}},{key:"all",value:function(){for(var e=[],t=[this.root];t.length;){var a=t.shift();if(e.push(a),a instanceof j)for(var n=0,r=Object.keys(a.contents);n<r.length;n++){var c=r[n];"."!==c&&".."!==c&&t.push(a.contents[c])}}return e.map((function(e){return{type:e instanceof b?"file":"directory",key:e.name,size:e.size,creator:e.creator,created:e.created,path:e.path.join("/"),par:e.par?e.par.path.join("/"):"root"}}))}},{key:"serialize",value:function(){return{cwd:this.cwd.path,root:this.root.serialize(),current:this.ls(),all:this.all()}}}],[{key:"fromState",value:function(t){var a=new e;return a.root=e.makeNode(t.root,null),a.cwd=e.findNode(a.root,t.cwd),a}},{key:"makeNode",value:function(t,a){if("file"===t.type)return new b(t.name,t.creator,t.size,new Date(t.created),a);var n=new j(t.name,t.creator,new Date(t.created),a);n.size=t.size;for(var r=0,c=Object.keys(t.contents);r<c.length;r++){var i=c[r];n.contents[i]=e.makeNode(t.contents[i],n)}return n}},{key:"findNode",value:function(e,t){if("root"!==t[0])throw new O("path ".concat(t.join("/")," does not begin with root"));var a=e,n=!0,r=!1,c=void 0;try{for(var i,o=t.slice(1)[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value;if(void 0===a.contents[l])throw new O("path ".concat(t.join("/")," does not exist in ").concat(e.path.join("/")));a=a.contents[l]}}catch(s){r=!0,c=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw c}}return a}}]),e}(),D=function(){function e(){Object(v.a)(this,e)}return Object(E.a)(e,null,[{key:"getInitialState",value:function(){var t=new R;return e.injectMockData(t),t.serialize()}},{key:"injectMockData",value:function(e){e.mkdir("apps","system"),e.mkdir("songs","system"),e.mkdir("pictures","system"),e.mkdir("documents","system"),e.mkdir("videos","system"),e.touch("a.pdf","gnsp",20),e.touch("b.jpg","gnsp",20),e.cd("songs"),e.touch("1.mp3","gnsp",20),e.touch("2.mp3","gnsp",130),e.touch("3.mp3","gnsp",50),e.cd(".."),e.cd("documents"),e.mkdir("work","gnsp"),e.touch("c.pdf","gnsp",100),e.touch("d.docx","gnsp",30),e.cd("work"),e.touch("e.pdf","gnsp",10),e.touch("f.ts","gnsp",10),e.jump(["root"])}},{key:"mkdir",value:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date(Date.now()),r=R.fromState(e);return r.mkdir(t,a,n),console.log(r),r.serialize()}},{key:"touch",value:function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Date(Date.now()),c=R.fromState(e);return c.touch(t,a,n,r),c.serialize()}},{key:"cd",value:function(e,t){var a=R.fromState(e);return a.cd(t),a.serialize()}},{key:"jump",value:function(e,t){var a=R.fromState(e);return a.jump(t.split("/").filter(Boolean)),a.serialize()}},{key:"exists",value:function(e,t){return R.fromState(e).exists(t.split("/").filter(Boolean))}},{key:"deleteNode",value:function(e,t){var a=R.fromState(e);return a.rm(t.split("/").filter(Boolean)),a.serialize()}}]),e}();var S=Object(u.b)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{search:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.SET_SEARCH:return{search:t.payload};default:return e}},view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D.getInitialState(),t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case p.JUMP_DIR:try{return D.jump(e,n)}catch(r){return Object(f.a)({},e,{error:r.what})}case p.CREATE_FILE:try{return D.touch(e,n.name,n.creator,n.size,n.date)}catch(r){return Object(f.a)({},e,{error:r.what})}case p.CREATE_FOLDER:try{return D.mkdir(e,n.name,n.creator,n.date)}catch(r){return Object(f.a)({},e,{error:r.what})}case p.DELETE_NODE:try{return D.deleteNode(e,n)}catch(r){return Object(f.a)({},e,{error:r.what})}default:return e}}}),C=Object(u.c)(S),x=a(33),I=a.n(x),W=a(2);function z(e){var t=e.children;return r.a.createElement("div",{className:"spread"},t)}var J=a(34),B=a.n(J);function K(e){var t=e.tree,a=r.a.useState(!1),n=Object(W.a)(a,2),c=n[0],i=n[1];if("file"===t.type)return r.a.createElement(o.b,{to:"/"+t.par.join("/"),className:"lighter"},t.name);var l=Object.values(t.contents);return l=l.filter((function(e){return"file"!==e.type})).concat(l.filter((function(e){return"file"===e.type}))),r.a.createElement("div",{className:"treeview-container"},r.a.createElement(z,null,r.a.createElement(o.b,{to:"/"+t.path.join("/"),className:t.isRoot?"root-label":""},t.isRoot?"ROOT":t.name),!t.isRoot&&r.a.createElement(F,{onClick:function(){i(!c)},active:c})),r.a.createElement("ul",{className:"".concat(c||t.isRoot?"open":"close"," ").concat(t.isRoot?"no-padding":"")},l.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(K,{tree:e}))}))))}function F(e){var t=e.active,a=e.onClick;return r.a.createElement("button",{onClick:a,className:"dropdown-button ".concat(t?"up":"down")},r.a.createElement("img",{src:B.a,alt:"",role:"presentation"}))}var U=Object(s.b)((function(e){return{tree:e.view.root}}))((function(e){var t=e.tree;return r.a.createElement("div",{className:"sidebar-container"},r.a.createElement(K,{tree:t}))}));function Q(e){var t=e.image,a=e.onClick,n=e.className;return r.a.createElement("button",{onClick:a,className:"image-button ".concat(n||"")},r.a.createElement("img",{src:t,alt:"",role:"presentation"}))}function T(e){var t=e.onSelect,a=e.name,n=e.options,c=e.activeIndex;function i(e){return function(a){return t(e)}}return r.a.createElement("div",{className:"switch-group-wrapper"},n.map((function(e,t){var n=e.value,o=e.label,l="switch-option-".concat(a,"-").concat(n,"-").concat(t);return r.a.createElement("div",{className:"switch-button ".concat(t===c?"active":""),key:t},r.a.createElement("input",{type:"radio",name:a,value:n,id:l,onChange:i(n)}),r.a.createElement("label",{htmlFor:l},o))})))}function G(e){var t=e.onChange,a=e.value,n=e.placeholder;return r.a.createElement("input",{type:"text",value:a,placeholder:n,onChange:function(e){t(e.target.value)},className:"text-input"})}function M(e){var t=e.onChange,a=e.value,n=e.placeholder;return r.a.createElement("input",{type:"date",value:a,placeholder:n,onChange:function(e){t(e.target.value)},className:"text-input"})}function V(e){var t=e.onChange,a=e.value,n=e.placeholder,c=e.min,i=e.max;return r.a.createElement("input",{type:"number",value:a,placeholder:n,onChange:function(e){t(e.target.value)},className:"text-input",min:c,max:i})}var Y=a(21),Z=a.n(Y);var q=Object(s.b)((function(e){return{nodes:e.view.current}}),{createNode:function(e){return"file"===e.nodeType?{type:p.CREATE_FILE,payload:e}:{type:p.CREATE_FOLDER,payload:e}}})((function(e){var t=e.onClose,a=e.createNode,n=r.a.useState("file"),c=Object(W.a)(n,2),i=c[0],o=c[1],l=r.a.useState(""),s=Object(W.a)(l,2),u=s[0],m=s[1],d=r.a.useState(""),h=Object(W.a)(d,2),p=h[0],f=h[1],v=r.a.useState(""),E=Object(W.a)(v,2),g=E[0],y=E[1],A=r.a.useState(""),w=Object(W.a)(A,2),N=w[0],b=w[1],k=r.a.useState({}),j=Object(W.a)(k,2),O=j[0],R=j[1];return r.a.createElement("div",{className:"dialogue"},r.a.createElement("header",null,r.a.createElement("div",{className:"fw pull-right-36"},r.a.createElement("h3",{className:"hcenter fc"}," Create New ")),r.a.createElement(Q,{onClick:t,image:Z.a,className:"push-right"})),r.a.createElement("main",null,r.a.createElement("div",{className:"hcenter mt-sm fc"},r.a.createElement(T,{name:"node-type",options:[{label:"File",value:"file"},{label:"Folder",value:"directory"}],activeIndex:"file"===i?0:1,onSelect:o})),r.a.createElement("div",{className:"mv-md mh-md"},r.a.createElement("div",{className:"hcenter mt-sm fw"},r.a.createElement(G,{value:u,placeholder:"Name",onChange:m}),O.name&&r.a.createElement("p",{className:"err-sm"},O.name)),r.a.createElement("div",{className:"hcenter mt-sm fw"},r.a.createElement(G,{value:p,placeholder:"Creator",onChange:f}),O.creator&&r.a.createElement("p",{className:"err-sm"},O.creator)),"file"===i&&r.a.createElement("div",{className:"hcenter mt-sm fw"},r.a.createElement(V,{value:g,placeholder:"Size",onChange:y,min:0}),O.size&&r.a.createElement("p",{className:"err-sm"},O.size)),r.a.createElement("div",{className:"hcenter mt-sm fw"},r.a.createElement(M,{value:N,placeholder:"Date",onChange:b}),O.date&&r.a.createElement("p",{className:"err-sm"},O.date)),r.a.createElement("div",{className:"hcenter mt-sm fw"},r.a.createElement("button",{className:"btn-primary",onClick:function(){var e={nodeType:i,name:u,creator:p,size:g,date:N};(function(e){var t={};u.length<1&&(t.name="Name can not be empty");("."===u||".."===u||u.startsWith("/")||u.endsWith("/"))&&(t.name="Invalid name");p.length<1&&(t.creator="Creator can not be empty");"file"===i&&""===g&&(t.size="Size can not be empty");try{var a=new Date(N).toISOString().split("T")[0];e.date=new Date(a)}catch(n){t.date="Invalid Date"}return R(t),0===Object.values(t).length})(e)&&(a(e),t(!0))}},"Create")))))}));function L(e){var t=r.a.useRef(null);return function(e,t){function a(a){e.current&&!e.current.contains(a.target)&&t(!0)}r.a.useEffect((function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}}))}(t,e.onClickOutside),r.a.createElement("div",{ref:t},e.children)}function P(e){var t=e.x,a=e.y,n=e.item,i=e.onClose,l=e.onInfo,s=e.onDelete,u="/"+("file"===n.type?n.par:n.path);var m=r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"context-menu",style:{top:a,left:t}},r.a.createElement(L,{onClickOutside:i},r.a.createElement("div",{className:"context-menu-inner"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o.b,{to:u},"Open")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){i(),l(n)}},"Get info")),r.a.createElement("li",{className:"danger",onClick:function(){i(),s(n)}},r.a.createElement("a",null,"Delete")))))));return Object(c.createPortal)(m,document.getElementById("contextmenu-root"))}var X=a(36),H=a.n(X),_=a(37),$=a.n(_);function ee(e){var t=e.type,a=e.name,n=null;if("file"===t){var c=a.split(".");n=c[c.length-1]||null}return r.a.createElement("div",{className:"file-icon-wrapper"},r.a.createElement("img",{src:"file"===t?H.a:$.a,alt:"".concat(t,":").concat(a)}),n&&r.a.createElement("span",{className:"file-ext"},".",n))}function te(e){var t=e.item,a=e.onClose;return r.a.createElement("div",{className:"dialogue"},r.a.createElement("header",null,r.a.createElement("div",{className:"fw pull-right-36"},r.a.createElement("h3",{className:"hcenter fc"}," ","file"===t.type?"File Info":"Folder Info"," ")),r.a.createElement(Q,{onClick:a,image:Z.a,className:"push-right"})),r.a.createElement("main",null,r.a.createElement("div",{className:"hcenter mt-sm fc"},r.a.createElement(ee,{type:t.type,name:t.key})),r.a.createElement("div",{className:"mv-md"},r.a.createElement("div",{className:"mt-md two-col"},r.a.createElement("span",{className:"left"},"Name:"),r.a.createElement("span",{className:"right"},t.key)),r.a.createElement("div",{className:"mt-md two-col"},r.a.createElement("span",{className:"left"},"Size:"),r.a.createElement("span",{className:"right"},t.size,"kb")),r.a.createElement("div",{className:"mt-md two-col"},r.a.createElement("span",{className:"left"},"Creator name:"),r.a.createElement("span",{className:"right"},t.creator)),r.a.createElement("div",{className:"mt-md two-col"},r.a.createElement("span",{className:"left"},"Created date:"),r.a.createElement("span",{className:"right"},new Date(t.created).toDateString())))))}function ae(e){var t=e.item,a=e.onRightClick,n=Object(l.f)(),c="/"+("file"===t.type?t.par:t.path);return r.a.createElement("a",{onDoubleClick:function(e){e.preventDefault(),n.push(c)},className:"file-item",onContextMenu:function(e){e.preventDefault(),a(t,e.clientX,e.clientY)}},r.a.createElement(ee,{type:t.type,name:t.key}),r.a.createElement("div",{className:"file-name-wrapper"},t.key))}function ne(e){var t=e.children,a=r.a.createElement("div",{className:"overlay"},t);return Object(c.createPortal)(a,document.getElementById("modal-root"))}var re=a(41);function ce(e){var t=e.error,a=e.message,n=r.a.useState(0),i=Object(W.a)(n,2),o=i[0],l=i[1],s=r.a.useState([]),u=Object(W.a)(s,2),m=u[0],d=u[1];r.a.useEffect((function(){var e=o+1;l(e),d([].concat(Object(re.a)(m),[{error:t,message:a,key:e}])),window.setTimeout((function(){d(m.filter((function(t){return t.key!==e})))}),3e3)}),[a]);var h=r.a.createElement("div",{className:"toast-area"},m.map((function(e){return r.a.createElement("div",{className:"toast ".concat(e.error?"error":""),key:e.key},e.message)})));return Object(c.createPortal)(h,document.getElementById("toast-root"))}function ie(e,t){return new RegExp(t).test(e)}var oe=a(38),le=a.n(oe);var se=Object(s.b)((function(e){return{nodes:e.ui.search?e.view.current.filter((function(t){return ie(t.key,e.ui.search)})):e.view.current,found:e.ui.search?e.view.all.filter((function(t){return ie(t.key,e.ui.search)})):null,error:e.view.error,query:e.ui.search}}),{deleteNode:function(e){return{type:p.DELETE_NODE,payload:e}}})((function(e){var t=e.nodes,a=e.found,n=e.query,c=e.error,i=e.deleteNode,o={active:!1,item:null,x:0,y:0},l={active:!1,item:null},s=r.a.useState(!1),u=Object(W.a)(s,2),m=u[0],d=u[1],h=r.a.useState(l),p=Object(W.a)(h,2),f=p[0],v=p[1],E=r.a.useState(o),g=Object(W.a)(E,2),y=g[0],A=g[1];function w(e,t,a){A({active:!0,item:e,x:t,y:a})}return r.a.useEffect((function(){d(!1),A(o),v(l)}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"file-explorer-container"},t.filter((function(e){return!e.key.startsWith(".")})).map((function(e,t){return r.a.createElement(ae,{key:t,item:e,onRightClick:w})})),r.a.createElement("div",{key:"add-new",className:"file-item"},r.a.createElement(Q,{image:le.a,onClick:function(){d(!0)}}))),a&&r.a.createElement("div",{className:"fw mt-lg"},r.a.createElement("h3",{className:"normal-weight"},' Search results for "',n,'" '),r.a.createElement("div",{className:"file-explorer-container"},a.filter((function(e){return!e.key.startsWith(".")})).map((function(e,t){return r.a.createElement(ae,{key:t,item:e,onRightClick:w})})))),m&&r.a.createElement(ne,null,r.a.createElement(q,{onClose:function(){d(!1)}})),f.active&&r.a.createElement(ne,null,r.a.createElement(te,{item:f.item,onClose:function(){v(l)}})),c&&r.a.createElement(ce,{error:!0,message:c}),y.active&&r.a.createElement(P,{x:y.x,y:y.y,item:y.item,onClose:function(){A(o)},onInfo:function(e){v({active:!0,item:e})},onDelete:function(e){i(e.path)}}))}));var ue=a(39),me=a.n(ue),de=a(40),he=a.n(de);var pe=Object(s.b)((function(e){return{cwd:e.view.cwd,search:e.ui.search}}),{setSearch:function(e){return{type:h.SET_SEARCH,payload:e}}})((function(e){var t,a=e.cwd,n=e.search,c=e.setSearch;return r.a.useEffect((function(){c("")}),[a,c]),t=a.length>1?"/"+a.slice(0,a.length-1).join("/"):"/root",r.a.createElement(z,null,r.a.createElement("h1",{className:"current-location"},r.a.createElement("span",{className:"mr-md"},r.a.createElement(o.b,{className:"vcenter",to:t},r.a.createElement("img",{src:me.a,alt:"up"}))),function(e,t){var a=[],n=!0,r=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value;a.push(l),a.push(t)}}catch(s){r=!0,c=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw c}}return a.slice(0,a.length-1)}(a,"/").map((function(e,t){return r.a.createElement("span",{key:t,className:"current-location-part"},e)}))),r.a.createElement("div",{className:"search-input-wrapper"},r.a.createElement("input",{type:"search",className:"text-input search-input",placeholder:"Search for anything",value:n,onChange:function(e){c(e.target.value)}}),r.a.createElement("img",{src:he.a,role:"presentation",alt:""})))}));var fe=Object(s.b)((function(e){return{tree:e.view,cwd:"/"+e.view.cwd.join("/")}}),{jumpDir:function(e){return{type:p.JUMP_DIR,payload:e}}})((function(e){var t=e.match,a=e.tree,n=e.jumpDir,c=e.cwd,i=t.params[0],o=D.exists(a,i)?i:"/root";return o!==i?r.a.createElement(l.a,{to:o}):(c!==o&&n(o),r.a.createElement("div",{className:"app-container"},r.a.createElement(I.a,null,r.a.createElement("title",null,o)),r.a.createElement(U,null),r.a.createElement("main",{className:"main-container"},r.a.createElement(pe,null),r.a.createElement(se,null))))}));var ve=function(){return r.a.createElement(s.a,{store:C},r.a.createElement(o.a,null,r.a.createElement(l.b,{path:"*",component:fe})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[42,1,2]]]);
//# sourceMappingURL=main.7c412476.chunk.js.map